---
import { Icon } from 'astro-icon'
import MainLayout from "../../layouts/main.astro";
import MainHeader from "../../components/common/Header.astro";
import DiscoverFilter from '../../components/DiscoverFilter.vue';
import Test from '../..//components/HeaderNav.vue';
import "../../styles/main.css";
import "../../styles/global.css";
const showTopBanner = false;
const images = [
    {
        url: 'https://imgf1.pop-fashion.com/fashion/presscon/20230617029SZ6753/focus/women/middle/PatBo174977_004_SZ6753.jpg',
        title: '2024早春纽约《Bibhu Mohapatra》女装发布会'
    },
    {
        url: 'https://shows.vogueimg.com.cn/202310/9a70dd72b7ae394629ca542199bd2c42/2020/F2020RTW/escada-pre/collection/16DjkbLVv5x2732_h_L.jpg',
        title: '午报 | lululemon股价大涨市值破500亿美元，取代阿迪达斯成全球第二大运动品牌'
    },
    {
        url: 'https://shows.vogueimg.com.cn/202310/bf994b6e6e06389357020c8945b8a2e1/2020/F2020RTW/zadig-voltaire/collection/90P0Gd9kxgP2732_h_L.jpg',
        title: 'Zara推出纯白系列 清新优雅'
    },
    {
        url: 'http://img.aiimg.com/uploads/userup/0905/1600431QR1.jpg',
        title: 'Balenciaga 2017早秋系列 复古时尚'
    },
    {
        url: 'https://ts1.cn.mm.bing.net/th/id/R-C.2d64fccb4c52f84713e700e21c670c97?rik=jIykRcNiN%2b9ORw&riu=http%3a%2f%2fwww.linkshop.com.cn%2fupload%2farticle%2f2018%2f20180307143934_2812_lssize.jpg&ehk=BTwVTSantudy28orpo5Y%2fUqA%2fyR8B9PuREs%2fUm9HYUo%3d&risl=&pid=ImgRaw&r=0',
        title: 'Shalom Harlow: 重返聚光灯下'
    },
];

const columns = [
    'T台', '街拍', '成衣', '品牌', '花纹', 'AI', '色彩'
];
---

<style>
    .product-card-grid {
    --min-grid-absolute-size: 16rem;
    --max-grid-relative-size: 33%;
}

    @media (min-width: 1024px) {
        body > header,
        header.sticky,
        main > * {
            padding: 4rem max((100% - 71.25rem)/2, 4rem);
        }

        body > header:where(.sidebar-nav *),
        header.sticky:where(.sidebar-nav *),
        main > *:where(.sidebar-nav *) {
            padding-left: 4rem;
            padding-right: max(100% - 71.25rem - 4rem, 4rem);
        }
    }

    .stack>* {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    padding: 1rem;
    gap: 1rem;
    justify-content: space-between
}

    article.product-card {
    transition: var(--transition-duration) ease-out;
    transition-property: all;
    display: grid;
    grid-template-rows: auto 1fr auto
}

article.product-card {
    transition: var(--transition-duration) ease-out;
    transition-property: all;
    display: grid;
    grid-template-rows: auto 1fr auto
}

article.product-card,article.product {
    position: relative;
    background-color: rgb(var(--filled));
    color: rgb(var(--contrast-filled));
    --active-bg: var(--body-bg);
    border: solid .0625rem rgb(var(--color)/var(--border-alpha));
    border-radius: .25rem
}


.with-sidebar {
    display: grid;
    gap: 4rem;
    align-items: flex-start;
    grid-template-columns: 1fr;
    grid-auto-columns: 3fr
}

@media(min-width: 1024px) {
    .with-sidebar:not(.squished .with-sidebar) {
        grid-auto-flow:column;
    }

    .with-sidebar:not(.squished .with-sidebar)>.sticky {
        max-height: min(100%,100vh);
        position: sticky;
        top: 0;
        overflow-y: auto
    }
}

.carousel .items {
    display: flex;
    /* overflow-x: scroll; */
    overflow-y: hidden;
    scroll-snap-type: x mandatory;
    align-items: center;
    height: 100%;
    scrollbar-width: none
}

article.product-card .carousel .items {
    position: absolute;
    width: 100%;
    border-radius: .25rem .25rem 0 0
}

article.product-card .carousel {
    border-bottom: solid .0625rem rgb(var(--color)/var(--border-alpha));
    position: relative;
    border-radius: .25rem .25rem 0 0;
    padding-bottom: 100%;
    padding-bottom: 140%;
}

.grid,.product-card-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill,minmax(max(min(var(--min-grid-absolute-size),100%),var(--max-grid-relative-size) - 1rem),1fr));
    gap: 1rem;
}

@media(min-width: 1024px) {
    body>header,header.sticky,main>* {
        padding:4rem max((100% - 90rem)/2,4rem);
    }

    body>header:where(.sidebar-nav *),header.sticky:where(.sidebar-nav *),main>*:where(.sidebar-nav *) {
        padding-left: 4rem;
        padding-right: max(100% - 71.25rem - 4rem,4rem)
    }
}
article.product-card header {
    display: grid;
    grid-template-rows: 1fr;
    gap: .5rem;
    border-bottom: solid .0625rem rgb(var(--color)/var(--border-alpha))
}
article.product-card footer {
    display: grid;
    grid-template-columns: 1fr auto;
}

article.product-card footer {
    display: grid;
    grid-template-columns: 1fr auto
}

.rating {
    display: flex;
    align-items: center;
    flex-shrink: 0;
    gap: .25rem
}

body>header,header.sticky,main>header {
    display: grid;
    grid-template-columns: 1fr auto;
    align-items: center;
    gap: 1rem .75rem;
    padding-top: 2rem;
    padding-bottom: 2rem
}

header.hero .hero-actions {
    display: flex;
    flex-wrap: wrap;
    gap: 0 1rem;
    align-items: center
}

.nested-menu>[role=menubar] {
    display: grid;
    grid-auto-flow: column;
    grid-auto-columns: max-content;
    align-items: center
}

.pill,.chosen-container .chosen-choices .search-choice {
    display: inline-block;
    vertical-align: middle;
    padding: .5rem .75rem;
    background-color: rgb(var(--filled));
    color: rgb(var(--contrast-filled));
    --active-bg: var(--body-bg);
    border: solid .0625rem rgb(var(--color)/var(--border-alpha));
    border-radius: 10rem;
    font-size: .875rem;
    line-height: 1.3;
    --line-height: 1.1375rem;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis
}
</style>
<MainLayout>
    <main>
        <header class="p-8">
            <!-- <div class="hero-actions">
                <div class="combobox" style="flex-grow:1">
                    <div class="input">
                        <span class="icon icon-solid-search"></span><input
                            type="search"
                            placeholder="搜索产品..."
                            role="combobox"
                            aria-expanded="false"
                            aria-autocomplete="list"
                            aria-controls=":R1l:"
                            value=""
                        />
                    </div>
                </div>
            </div> -->
            <div role="nav">
                <div class="nested-menu">
                    <div role="menubar" aria-busy="false">
                        {
                            columns.map((data) => (
                                <div>
                                    <a
                                        href="/"
                                        class="pill button shadow"
                                        role="menuitem"
                                        aria-current="true">{data}</a>
                                </div>
                            ))
                        }
                    </div>
                </div>
            </div>
        </header>
        <div class="with-sidebar">
            <DiscoverFilter client:load />
            <div class="product-card-grid">
                {
                    images.map((e) => (
                        <article class="product-card shadow">
                            <a
                                href="https://logopackage.gumroad.com/l/logoPackageExpress3?layout=discover&recommended_by=search"
                                class="stretched-link"
                                aria-label="Logo Package Express 3.0" >
                                <div class="carousel">
                                    <div class="items">
                                        <img class="w-full" src={e.url} />
                                    </div>
                                </div>
                            </a>
                            <header class="p-2">
                                <p class="text-xl font-normal">{e.title}</p>
                            </header>
                            <footer>
                                <div class="rating p-4" aria-label="评分">
                                    <span class="rating-average">4.9</span><span title="4.9评分">66</span>
                                </div>
                                <div
                                    itemscope=""
                                    itemprop="offers"
                                    itemtype="https://schema.org/Offer"
                                    style="display: flex; align-items: center;"
                                >
                                    <div class="has-tooltip" aria-describedby=":r3n:">
                                        <div class="price" itemprop="price" content="119">
                                            $119
                                        </div><div role="tooltip" id=":r3n:">$119</div>
                                    </div>
                                    <link
                                        itemprop="url"
                                        href="https://logopackage.gumroad.com/l/logoPackageExpress3?layout=discover&recommended_by=search"
                                    />
                                    <div itemprop="availability" hidden="">
                                        https://schema.org/InStock
                                    </div>
                                    <div itemprop="priceCurrency" hidden="">usd</div>
                                </div>
                            </footer>
                        </article>
                    ))
                }
            </div>
        </div>
    </main>
</MainLayout>
